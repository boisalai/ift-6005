2025-04-03 10:36:43,444 - comparison_eval - INFO - Arguments: Namespace(limit=10, lang='fr', model='openchat', output=None)
2025-04-03 10:36:43,444 - comparison_eval - INFO - Modèle configuré avec succès
2025-04-03 10:36:43,445 - comparison_eval - INFO - Chargement de 10 paires QA en fr
2025-04-03 10:36:43,445 - comparison_eval - INFO - Création de l'agent DuckDB...
2025-04-03 10:36:43,459 - comparison_eval - INFO - Création de l'agent Neo4j...
2025-04-03 10:36:43,477 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-04-03 10:36:43,477 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-03 10:36:45,470 - comparison_eval - INFO - Démarrage de l'évaluation de l'agent DuckDB...
2025-04-03 10:36:45,471 - comparison_eval - INFO - Évaluation [duckdb] - Question 1/10
2025-04-03 10:36:45,471 - comparison_eval - INFO - Question: Quels sont les produits alimentaires sans additifs disponibles dans la base de données?
2025-04-03 10:36:46,500 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-04-03 10:36:47,019 - LiteLLM - INFO - 
LiteLLM completion() model= openchat:7b; provider = ollama
2025-04-03 10:36:47,036 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 404 Not Found"
2025-04-03 10:36:47,048 - comparison_eval - ERROR - Erreur lors de l'évaluation: Error in generating model output:
litellm.APIConnectionError: OllamaException - {"error":"model 'openchat:7b' not found"}
2025-04-03 10:36:47,048 - comparison_eval - INFO - Résultat: Incorrect
2025-04-03 10:36:47,048 - comparison_eval - INFO - --------------------------------------------------
2025-04-03 10:36:47,048 - comparison_eval - INFO - Évaluation [duckdb] - Question 2/10
2025-04-03 10:36:47,048 - comparison_eval - INFO - Question: Quelle est la répartition des produits alimentaires en fonction du nombre d'additifs qu'ils contiennent ?
2025-04-03 10:36:47,051 - LiteLLM - INFO - 
LiteLLM completion() model= openchat:7b; provider = ollama
2025-04-03 10:36:47,056 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 404 Not Found"
2025-04-03 10:36:47,063 - comparison_eval - ERROR - Erreur lors de l'évaluation: Error in generating model output:
litellm.APIConnectionError: OllamaException - {"error":"model 'openchat:7b' not found"}
2025-04-03 10:36:47,063 - comparison_eval - INFO - Résultat: Incorrect
2025-04-03 10:36:47,063 - comparison_eval - INFO - --------------------------------------------------
2025-04-03 10:36:47,063 - comparison_eval - INFO - Évaluation [duckdb] - Question 3/10
2025-04-03 10:36:47,063 - comparison_eval - INFO - Question: Quels sont les produits alimentaires contenant le plus grand nombre d'additifs dans la base de données ?
2025-04-03 10:36:47,066 - LiteLLM - INFO - 
LiteLLM completion() model= openchat:7b; provider = ollama
2025-04-03 10:36:47,070 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 404 Not Found"
2025-04-03 10:36:47,077 - comparison_eval - ERROR - Erreur lors de l'évaluation: Error in generating model output:
litellm.APIConnectionError: OllamaException - {"error":"model 'openchat:7b' not found"}
2025-04-03 10:36:47,077 - comparison_eval - INFO - Résultat: Incorrect
2025-04-03 10:36:47,077 - comparison_eval - INFO - --------------------------------------------------
2025-04-03 10:36:47,077 - comparison_eval - INFO - Évaluation [duckdb] - Question 4/10
2025-04-03 10:36:47,077 - comparison_eval - INFO - Question: Quel est le pourcentage de produits alimentaires avec et sans additifs dans la base de données Open Food Facts ?
2025-04-03 10:36:47,080 - LiteLLM - INFO - 
LiteLLM completion() model= openchat:7b; provider = ollama
2025-04-03 10:36:47,083 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 404 Not Found"
2025-04-03 10:36:47,090 - comparison_eval - ERROR - Erreur lors de l'évaluation: Error in generating model output:
litellm.APIConnectionError: OllamaException - {"error":"model 'openchat:7b' not found"}
2025-04-03 10:36:47,090 - comparison_eval - INFO - Résultat: Incorrect
2025-04-03 10:36:47,090 - comparison_eval - INFO - --------------------------------------------------
2025-04-03 10:36:47,090 - comparison_eval - INFO - Évaluation [duckdb] - Question 5/10
2025-04-03 10:36:47,090 - comparison_eval - INFO - Question: Quels sont les 10 additifs alimentaires les plus couramment utilisés dans les produits alimentaires?
2025-04-03 10:36:47,093 - LiteLLM - INFO - 
LiteLLM completion() model= openchat:7b; provider = ollama
2025-04-03 10:36:47,097 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 404 Not Found"
2025-04-03 10:36:47,104 - comparison_eval - ERROR - Erreur lors de l'évaluation: Error in generating model output:
litellm.APIConnectionError: OllamaException - {"error":"model 'openchat:7b' not found"}
2025-04-03 10:36:47,104 - comparison_eval - INFO - Résultat: Incorrect
2025-04-03 10:36:47,104 - comparison_eval - INFO - --------------------------------------------------
2025-04-03 10:36:47,104 - comparison_eval - INFO - Évaluation [duckdb] - Question 6/10
2025-04-03 10:36:47,104 - comparison_eval - INFO - Question: Quels produits alimentaires contiennent de l'acide citrique (E330) comme additif ?
2025-04-03 10:36:47,107 - LiteLLM - INFO - 
LiteLLM completion() model= openchat:7b; provider = ollama
2025-04-03 10:36:47,111 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 404 Not Found"
2025-04-03 10:36:47,118 - comparison_eval - ERROR - Erreur lors de l'évaluation: Error in generating model output:
litellm.APIConnectionError: OllamaException - {"error":"model 'openchat:7b' not found"}
2025-04-03 10:36:47,118 - comparison_eval - INFO - Résultat: Incorrect
2025-04-03 10:36:47,118 - comparison_eval - INFO - --------------------------------------------------
2025-04-03 10:36:47,118 - comparison_eval - INFO - Évaluation [duckdb] - Question 7/10
2025-04-03 10:36:47,118 - comparison_eval - INFO - Question: Quelle est la répartition des produits alimentaires en fonction du nombre d'additifs qu'ils contiennent ?
2025-04-03 10:36:47,121 - LiteLLM - INFO - 
LiteLLM completion() model= openchat:7b; provider = ollama
2025-04-03 10:36:47,127 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 404 Not Found"
2025-04-03 10:36:47,134 - comparison_eval - ERROR - Erreur lors de l'évaluation: Error in generating model output:
litellm.APIConnectionError: OllamaException - {"error":"model 'openchat:7b' not found"}
2025-04-03 10:36:47,135 - comparison_eval - INFO - Résultat: Incorrect
2025-04-03 10:36:47,135 - comparison_eval - INFO - --------------------------------------------------
2025-04-03 10:36:47,135 - comparison_eval - INFO - Évaluation [duckdb] - Question 8/10
2025-04-03 10:36:47,135 - comparison_eval - INFO - Question: Quel est l'allergène le plus courant dans les produits alimentaires, et dans combien de produits est-il présent ?
2025-04-03 10:36:47,137 - LiteLLM - INFO - 
LiteLLM completion() model= openchat:7b; provider = ollama
2025-04-03 10:36:47,142 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 404 Not Found"
2025-04-03 10:36:47,149 - comparison_eval - ERROR - Erreur lors de l'évaluation: Error in generating model output:
litellm.APIConnectionError: OllamaException - {"error":"model 'openchat:7b' not found"}
2025-04-03 10:36:47,149 - comparison_eval - INFO - Résultat: Incorrect
2025-04-03 10:36:47,149 - comparison_eval - INFO - --------------------------------------------------
2025-04-03 10:36:47,149 - comparison_eval - INFO - Évaluation [duckdb] - Question 9/10
2025-04-03 10:36:47,149 - comparison_eval - INFO - Question: Quels produits alimentaires contiennent à la fois du lait et des noix comme allergènes?
2025-04-03 10:36:47,152 - LiteLLM - INFO - 
LiteLLM completion() model= openchat:7b; provider = ollama
2025-04-03 10:36:47,157 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 404 Not Found"
2025-04-03 10:36:47,164 - comparison_eval - ERROR - Erreur lors de l'évaluation: Error in generating model output:
litellm.APIConnectionError: OllamaException - {"error":"model 'openchat:7b' not found"}
2025-04-03 10:36:47,164 - comparison_eval - INFO - Résultat: Incorrect
2025-04-03 10:36:47,164 - comparison_eval - INFO - --------------------------------------------------
2025-04-03 10:36:47,164 - comparison_eval - INFO - Évaluation [duckdb] - Question 10/10
2025-04-03 10:36:47,164 - comparison_eval - INFO - Question: Quels sont les produits alimentaires contenant le plus grand nombre d'allergènes potentiels ?
2025-04-03 10:36:47,167 - LiteLLM - INFO - 
LiteLLM completion() model= openchat:7b; provider = ollama
2025-04-03 10:36:47,171 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 404 Not Found"
2025-04-03 10:36:47,178 - comparison_eval - ERROR - Erreur lors de l'évaluation: Error in generating model output:
litellm.APIConnectionError: OllamaException - {"error":"model 'openchat:7b' not found"}
2025-04-03 10:36:47,178 - comparison_eval - INFO - Résultat: Incorrect
2025-04-03 10:36:47,178 - comparison_eval - INFO - --------------------------------------------------
2025-04-03 10:36:47,178 - comparison_eval - INFO - Démarrage de l'évaluation de l'agent Neo4j...
2025-04-03 10:36:47,178 - comparison_eval - INFO - Évaluation [neo4j] - Question 1/10
2025-04-03 10:36:47,178 - comparison_eval - INFO - Question: Quels sont les produits alimentaires sans additifs disponibles dans la base de données?
2025-04-03 10:36:47,181 - LiteLLM - INFO - 
LiteLLM completion() model= openchat:7b; provider = ollama
2025-04-03 10:36:47,184 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 404 Not Found"
2025-04-03 10:36:47,191 - comparison_eval - ERROR - Erreur lors de l'évaluation: Error in generating model output:
litellm.APIConnectionError: OllamaException - {"error":"model 'openchat:7b' not found"}
2025-04-03 10:36:47,191 - comparison_eval - INFO - Résultat: Incorrect
2025-04-03 10:36:47,191 - comparison_eval - INFO - --------------------------------------------------
2025-04-03 10:36:47,191 - comparison_eval - INFO - Évaluation [neo4j] - Question 2/10
2025-04-03 10:36:47,191 - comparison_eval - INFO - Question: Quelle est la répartition des produits alimentaires en fonction du nombre d'additifs qu'ils contiennent ?
2025-04-03 10:36:47,194 - LiteLLM - INFO - 
LiteLLM completion() model= openchat:7b; provider = ollama
2025-04-03 10:36:47,198 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 404 Not Found"
2025-04-03 10:36:47,205 - comparison_eval - ERROR - Erreur lors de l'évaluation: Error in generating model output:
litellm.APIConnectionError: OllamaException - {"error":"model 'openchat:7b' not found"}
2025-04-03 10:36:47,205 - comparison_eval - INFO - Résultat: Incorrect
2025-04-03 10:36:47,205 - comparison_eval - INFO - --------------------------------------------------
2025-04-03 10:36:47,205 - comparison_eval - INFO - Évaluation [neo4j] - Question 3/10
2025-04-03 10:36:47,205 - comparison_eval - INFO - Question: Quels sont les produits alimentaires contenant le plus grand nombre d'additifs dans la base de données ?
2025-04-03 10:36:47,208 - LiteLLM - INFO - 
LiteLLM completion() model= openchat:7b; provider = ollama
2025-04-03 10:36:47,212 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 404 Not Found"
2025-04-03 10:36:47,219 - comparison_eval - ERROR - Erreur lors de l'évaluation: Error in generating model output:
litellm.APIConnectionError: OllamaException - {"error":"model 'openchat:7b' not found"}
2025-04-03 10:36:47,219 - comparison_eval - INFO - Résultat: Incorrect
2025-04-03 10:36:47,219 - comparison_eval - INFO - --------------------------------------------------
2025-04-03 10:36:47,219 - comparison_eval - INFO - Évaluation [neo4j] - Question 4/10
2025-04-03 10:36:47,219 - comparison_eval - INFO - Question: Quel est le pourcentage de produits alimentaires avec et sans additifs dans la base de données Open Food Facts ?
2025-04-03 10:36:47,222 - LiteLLM - INFO - 
LiteLLM completion() model= openchat:7b; provider = ollama
2025-04-03 10:36:47,227 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 404 Not Found"
2025-04-03 10:36:47,235 - comparison_eval - ERROR - Erreur lors de l'évaluation: Error in generating model output:
litellm.APIConnectionError: OllamaException - {"error":"model 'openchat:7b' not found"}
2025-04-03 10:36:47,235 - comparison_eval - INFO - Résultat: Incorrect
2025-04-03 10:36:47,235 - comparison_eval - INFO - --------------------------------------------------
2025-04-03 10:36:47,235 - comparison_eval - INFO - Évaluation [neo4j] - Question 5/10
2025-04-03 10:36:47,235 - comparison_eval - INFO - Question: Quels sont les 10 additifs alimentaires les plus couramment utilisés dans les produits alimentaires?
2025-04-03 10:36:47,238 - LiteLLM - INFO - 
LiteLLM completion() model= openchat:7b; provider = ollama
2025-04-03 10:36:47,246 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 404 Not Found"
2025-04-03 10:36:47,253 - comparison_eval - ERROR - Erreur lors de l'évaluation: Error in generating model output:
litellm.APIConnectionError: OllamaException - {"error":"model 'openchat:7b' not found"}
2025-04-03 10:36:47,253 - comparison_eval - INFO - Résultat: Incorrect
2025-04-03 10:36:47,253 - comparison_eval - INFO - --------------------------------------------------
2025-04-03 10:36:47,253 - comparison_eval - INFO - Évaluation [neo4j] - Question 6/10
2025-04-03 10:36:47,253 - comparison_eval - INFO - Question: Quels produits alimentaires contiennent de l'acide citrique (E330) comme additif ?
2025-04-03 10:36:47,256 - LiteLLM - INFO - 
LiteLLM completion() model= openchat:7b; provider = ollama
2025-04-03 10:36:47,260 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 404 Not Found"
2025-04-03 10:36:47,267 - comparison_eval - ERROR - Erreur lors de l'évaluation: Error in generating model output:
litellm.APIConnectionError: OllamaException - {"error":"model 'openchat:7b' not found"}
2025-04-03 10:36:47,267 - comparison_eval - INFO - Résultat: Incorrect
2025-04-03 10:36:47,267 - comparison_eval - INFO - --------------------------------------------------
2025-04-03 10:36:47,267 - comparison_eval - INFO - Évaluation [neo4j] - Question 7/10
2025-04-03 10:36:47,267 - comparison_eval - INFO - Question: Quelle est la répartition des produits alimentaires en fonction du nombre d'additifs qu'ils contiennent ?
2025-04-03 10:36:47,270 - LiteLLM - INFO - 
LiteLLM completion() model= openchat:7b; provider = ollama
2025-04-03 10:36:47,276 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 404 Not Found"
2025-04-03 10:36:47,283 - comparison_eval - ERROR - Erreur lors de l'évaluation: Error in generating model output:
litellm.APIConnectionError: OllamaException - {"error":"model 'openchat:7b' not found"}
2025-04-03 10:36:47,283 - comparison_eval - INFO - Résultat: Incorrect
2025-04-03 10:36:47,283 - comparison_eval - INFO - --------------------------------------------------
2025-04-03 10:36:47,283 - comparison_eval - INFO - Évaluation [neo4j] - Question 8/10
2025-04-03 10:36:47,283 - comparison_eval - INFO - Question: Quel est l'allergène le plus courant dans les produits alimentaires, et dans combien de produits est-il présent ?
2025-04-03 10:36:47,286 - LiteLLM - INFO - 
LiteLLM completion() model= openchat:7b; provider = ollama
2025-04-03 10:36:47,290 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 404 Not Found"
2025-04-03 10:36:47,297 - comparison_eval - ERROR - Erreur lors de l'évaluation: Error in generating model output:
litellm.APIConnectionError: OllamaException - {"error":"model 'openchat:7b' not found"}
2025-04-03 10:36:47,297 - comparison_eval - INFO - Résultat: Incorrect
2025-04-03 10:36:47,297 - comparison_eval - INFO - --------------------------------------------------
2025-04-03 10:36:47,298 - comparison_eval - INFO - Évaluation [neo4j] - Question 9/10
2025-04-03 10:36:47,298 - comparison_eval - INFO - Question: Quels produits alimentaires contiennent à la fois du lait et des noix comme allergènes?
2025-04-03 10:36:47,301 - LiteLLM - INFO - 
LiteLLM completion() model= openchat:7b; provider = ollama
2025-04-03 10:36:47,304 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 404 Not Found"
2025-04-03 10:36:47,311 - comparison_eval - ERROR - Erreur lors de l'évaluation: Error in generating model output:
litellm.APIConnectionError: OllamaException - {"error":"model 'openchat:7b' not found"}
2025-04-03 10:36:47,311 - comparison_eval - INFO - Résultat: Incorrect
2025-04-03 10:36:47,311 - comparison_eval - INFO - --------------------------------------------------
2025-04-03 10:36:47,311 - comparison_eval - INFO - Évaluation [neo4j] - Question 10/10
2025-04-03 10:36:47,311 - comparison_eval - INFO - Question: Quels sont les produits alimentaires contenant le plus grand nombre d'allergènes potentiels ?
2025-04-03 10:36:47,314 - LiteLLM - INFO - 
LiteLLM completion() model= openchat:7b; provider = ollama
2025-04-03 10:36:47,317 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 404 Not Found"
2025-04-03 10:36:47,324 - comparison_eval - ERROR - Erreur lors de l'évaluation: Error in generating model output:
litellm.APIConnectionError: OllamaException - {"error":"model 'openchat:7b' not found"}
2025-04-03 10:36:47,324 - comparison_eval - INFO - Résultat: Incorrect
2025-04-03 10:36:47,324 - comparison_eval - INFO - --------------------------------------------------
2025-04-03 10:36:47,324 - comparison_eval - INFO - Génération du rapport comparatif...
2025-04-03 10:36:47,324 - comparison_eval - ERROR - ERREUR FATALE: no median for empty data
Traceback (most recent call last):
  File "/Users/alain/Workspace/GitHub/ift-6005/src/part3/evaluate.py", line 784, in <module>
    main()
  File "/Users/alain/Workspace/GitHub/ift-6005/src/part3/evaluate.py", line 761, in main
    report = generate_report(duckdb_perf, neo4j_perf)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/alain/Workspace/GitHub/ift-6005/src/part3/evaluate.py", line 548, in generate_report
    - Agent DuckDB: {duckdb_time:.2f}s (moyenne), {statistics.median([r.response_time for r in duckdb_perf.results if r.response_time > 0]):.2f}s (médiane)
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/statistics.py", line 565, in median
    raise StatisticsError("no median for empty data")
statistics.StatisticsError: no median for empty data
