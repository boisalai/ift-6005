2025-02-19 17:33:15,101 - food_agent - evaluate.<module>:113 - INFO - General information about execution progress
2025-02-19 17:33:15,101 - food_agent - evaluate.<module>:114 - INFO - Logging initialized. Writing to logs/evaluation_20250219_173315.log
2025-02-19 17:33:15,101 - food_agent - evaluate.<module>:115 - WARNING - Non-critical warnings
2025-02-19 17:33:15,101 - food_agent - evaluate.<module>:116 - ERROR - Important but non-fatal errors
2025-02-19 17:33:15,101 - food_agent - evaluate.<module>:117 - CRITICAL - Critical errors that prevent evaluation
2025-02-19 17:33:15,101 - food_agent - evaluate.main:576 - INFO - Starting evaluation script
2025-02-19 17:33:15,102 - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:210 - INFO - Use pytorch device_name: mps
2025-02-19 17:33:15,102 - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:218 - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-02-19 17:33:17,105 - root - evaluate.main:598 - INFO - Agent initialized successfully
2025-02-19 17:33:17,152 - food_agent - evaluate.evaluate_single_case:246 - INFO - Evaluating single case
2025-02-19 17:33:17,152 - food_agent - evaluate._get_agent_response:178 - INFO - Getting agent response
2025-02-19 17:33:17,791 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-02-19 17:33:18,188 - LiteLLM - utils._check_valid_arg:2944 - INFO - 
LiteLLM completion() model= llama3.1:8b-instruct-q8_0; provider = ollama
2025-02-19 17:33:57,271 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-02-19 17:33:57,308 - LiteLLM - utils.wrapper:1120 - INFO - Wrapper: Completed Call, calling success_handler
2025-02-19 17:33:57,362 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:33:57,362 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:33:57,389 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:33:57,448 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:33:57,466 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:33:58,560 - food_agent - chatbot_19.search:357 - INFO - FAISS search with query: additives, top_k: 3
2025-02-19 17:33:58,560 - food_agent - chatbot_19.search:358 - INFO - FAISS search returned 2 columns:
2025-02-19 17:33:58,560 - food_agent - chatbot_19.search:360 - INFO - - Column 'additives_n' with similarity 0.540
2025-02-19 17:33:58,560 - food_agent - chatbot_19.search:360 - INFO - - Column 'new_additives_n' with similarity 0.496
2025-02-19 17:33:58,565 - LiteLLM - utils._check_valid_arg:2944 - INFO - 
LiteLLM completion() model= llama3.1:8b-instruct-q8_0; provider = ollama
2025-02-19 17:34:19,024 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-02-19 17:34:19,041 - LiteLLM - utils.wrapper:1120 - INFO - Wrapper: Completed Call, calling success_handler
2025-02-19 17:34:19,093 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:34:19,093 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:34:19,105 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute builtins.compile
2025-02-19 17:34:19,105 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute builtins.eval
2025-02-19 17:34:19,105 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute builtins.exec
2025-02-19 17:34:19,105 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute codecs.sys
2025-02-19 17:34:19,107 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute _sre.compile
2025-02-19 17:34:19,107 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute re._compiler.compile
2025-02-19 17:34:19,107 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute re.compile
2025-02-19 17:34:19,108 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute enum.sys
2025-02-19 17:34:19,119 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:34:19,134 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:34:19,148 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:34:19,465 - food_agent - chatbot_19.search:357 - INFO - FAISS search with query: additives, top_k: 3
2025-02-19 17:34:19,465 - food_agent - chatbot_19.search:358 - INFO - FAISS search returned 2 columns:
2025-02-19 17:34:19,465 - food_agent - chatbot_19.search:360 - INFO - - Column 'additives_n' with similarity 0.540
2025-02-19 17:34:19,465 - food_agent - chatbot_19.search:360 - INFO - - Column 'new_additives_n' with similarity 0.496
2025-02-19 17:34:19,603 - LiteLLM - utils._check_valid_arg:2944 - INFO - 
LiteLLM completion() model= llama3.1:8b-instruct-q8_0; provider = ollama
2025-02-19 17:34:59,570 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-02-19 17:34:59,585 - LiteLLM - utils.wrapper:1120 - INFO - Wrapper: Completed Call, calling success_handler
2025-02-19 17:34:59,609 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:34:59,610 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:34:59,619 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute builtins.compile
2025-02-19 17:34:59,619 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute builtins.eval
2025-02-19 17:34:59,619 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute builtins.exec
2025-02-19 17:34:59,620 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute codecs.sys
2025-02-19 17:34:59,621 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute _sre.compile
2025-02-19 17:34:59,622 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute re._compiler.compile
2025-02-19 17:34:59,622 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute re.compile
2025-02-19 17:34:59,622 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute enum.sys
2025-02-19 17:34:59,636 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:34:59,651 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:34:59,665 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:35:00,116 - food_agent - chatbot_19.search:357 - INFO - FAISS search with query: additives, top_k: 3
2025-02-19 17:35:00,117 - food_agent - chatbot_19.search:358 - INFO - FAISS search returned 2 columns:
2025-02-19 17:35:00,117 - food_agent - chatbot_19.search:360 - INFO - - Column 'additives_n' with similarity 0.540
2025-02-19 17:35:00,117 - food_agent - chatbot_19.search:360 - INFO - - Column 'new_additives_n' with similarity 0.496
2025-02-19 17:35:00,124 - LiteLLM - utils._check_valid_arg:2944 - INFO - 
LiteLLM completion() model= llama3.1:8b-instruct-q8_0; provider = ollama
2025-02-19 17:35:22,210 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-02-19 17:35:22,217 - LiteLLM - utils.wrapper:1120 - INFO - Wrapper: Completed Call, calling success_handler
2025-02-19 17:35:22,235 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:35:22,235 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:35:22,241 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute builtins.compile
2025-02-19 17:35:22,241 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute builtins.eval
2025-02-19 17:35:22,242 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute builtins.exec
2025-02-19 17:35:22,243 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute codecs.sys
2025-02-19 17:35:22,245 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute _sre.compile
2025-02-19 17:35:22,245 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute re._compiler.compile
2025-02-19 17:35:22,246 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute re.compile
2025-02-19 17:35:22,246 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute enum.sys
2025-02-19 17:35:22,259 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:35:22,282 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:35:22,304 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:35:22,422 - food_agent - chatbot_19.search:357 - INFO - FAISS search with query: additives, top_k: 3
2025-02-19 17:35:22,422 - food_agent - chatbot_19.search:358 - INFO - FAISS search returned 2 columns:
2025-02-19 17:35:22,422 - food_agent - chatbot_19.search:360 - INFO - - Column 'additives_n' with similarity 0.540
2025-02-19 17:35:22,422 - food_agent - chatbot_19.search:360 - INFO - - Column 'new_additives_n' with similarity 0.496
2025-02-19 17:35:22,428 - LiteLLM - utils._check_valid_arg:2944 - INFO - 
LiteLLM completion() model= llama3.1:8b-instruct-q8_0; provider = ollama
2025-02-19 17:35:44,472 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-02-19 17:35:44,484 - LiteLLM - utils.wrapper:1120 - INFO - Wrapper: Completed Call, calling success_handler
2025-02-19 17:35:44,510 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:35:44,510 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:35:44,522 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute builtins.compile
2025-02-19 17:35:44,522 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute builtins.eval
2025-02-19 17:35:44,522 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute builtins.exec
2025-02-19 17:35:44,522 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute codecs.sys
2025-02-19 17:35:44,524 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute _sre.compile
2025-02-19 17:35:44,524 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute re._compiler.compile
2025-02-19 17:35:44,525 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute re.compile
2025-02-19 17:35:44,525 - smolagents.local_python_executor - local_python_executor.get_safe_module:984 - INFO - Skipping dangerous attribute enum.sys
2025-02-19 17:35:44,541 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:35:44,564 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:35:44,584 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:35:44,835 - food_agent - chatbot_19.search:357 - INFO - FAISS search with query: additives, top_k: 3
2025-02-19 17:35:44,835 - food_agent - chatbot_19.search:358 - INFO - FAISS search returned 2 columns:
2025-02-19 17:35:44,835 - food_agent - chatbot_19.search:360 - INFO - - Column 'additives_n' with similarity 0.540
2025-02-19 17:35:44,835 - food_agent - chatbot_19.search:360 - INFO - - Column 'new_additives_n' with similarity 0.496
2025-02-19 17:35:44,942 - food_agent - evaluate._get_agent_response:232 - INFO - Question: What food products without additives are available in the database?
2025-02-19 17:35:44,943 - food_agent - evaluate._get_agent_response:233 - INFO - Agent response: {"answer": {"text": "Based on the Open Food Facts database, there are 206 food products without additives. You can find them by searching for 'additives=no' in the database.", "source": "Open Food Facts"}, "sql_query": "SELECT * FROM products WHERE additives='no'"}
2025-02-19 17:35:44,943 - food_agent - evaluate._get_agent_response:234 - INFO - Response time: 147.79s
2025-02-19 17:35:44,943 - food_agent - evaluate._extract_sql_query:282 - INFO - Extracting SQL query from agent response
2025-02-19 17:35:44,943 - food_agent - evaluate._extract_sql_query:283 - INFO - Agent response: {"answer": {"text": "Based on the Open Food Facts database, there are 206 food products without additives. You can find them by searching for 'additives=no' in the database.", "source": "Open Food Facts"}, "sql_query": "SELECT * FROM products WHERE additives='no'"}
2025-02-19 17:35:44,943 - food_agent - evaluate._calculate_sql_accuracy:314 - INFO - Evaluating SQL accuracy for question_id: unknown
2025-02-19 17:35:45,042 - LiteLLM - utils._check_valid_arg:2944 - INFO - 
LiteLLM completion() model= llama3.1:8b-instruct-q8_0; provider = ollama
2025-02-19 17:36:04,674 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-02-19 17:36:04,685 - LiteLLM - utils.wrapper:1120 - INFO - Wrapper: Completed Call, calling success_handler
2025-02-19 17:36:04,704 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:36:04,704 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:36:04,713 - LiteLLM - utils._check_valid_arg:2944 - INFO - 
LiteLLM completion() model= llama3.1:8b-instruct-q8_0; provider = ollama
2025-02-19 17:36:04,725 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:36:04,738 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:36:04,752 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:36:24,591 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-02-19 17:36:24,598 - LiteLLM - utils.wrapper:1120 - INFO - Wrapper: Completed Call, calling success_handler
2025-02-19 17:36:24,616 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:36:24,617 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:36:24,622 - LiteLLM - utils._check_valid_arg:2944 - INFO - 
LiteLLM completion() model= llama3.1:8b-instruct-q8_0; provider = ollama
2025-02-19 17:36:24,638 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:36:24,652 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:36:24,670 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:36:52,403 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-02-19 17:36:52,408 - LiteLLM - utils.wrapper:1120 - INFO - Wrapper: Completed Call, calling success_handler
2025-02-19 17:36:52,426 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:36:52,426 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:36:52,432 - LiteLLM - utils._check_valid_arg:2944 - INFO - 
LiteLLM completion() model= llama3.1:8b-instruct-q8_0; provider = ollama
2025-02-19 17:36:52,448 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:36:52,464 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:36:52,481 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:37:31,639 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-02-19 17:37:31,658 - LiteLLM - utils.wrapper:1120 - INFO - Wrapper: Completed Call, calling success_handler
2025-02-19 17:37:31,689 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:37:31,690 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:37:31,702 - food_agent - evaluate.evaluate_all:493 - ERROR - Error evaluating question 0: EvaluationResult.__init__() got an unexpected keyword argument 'sql_accuracy'
2025-02-19 17:37:31,716 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:37:31,734 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-02-19 17:37:31,750 - httpx - _client._send_single_request:1025 - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
